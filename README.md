# Inpaws-Pager

********************
Inpawspager 1.3b
by thEpOpE
********************

InpawsPager is a tool that used with [Inpaws](https://github.com/Mastodon-/inpaws) lets the user to create data base for Paws in Spectrum. While Inpaws allows you to create adventures for Spectrum 48kb, Inpawspager allows you to create adventures for 128kb.

InpawsPager mainly operates on a preprocessed file generated by Inpaws. Therefore, Inpaws is necessary to use InpawsPager, since Inpaws provides an output format that is interpreted by InpawsPager to generate the database.

Although a direct command from InpawsPager itself has been provided, to make it as transparent as possible for the user. However, there is the possibility of generating a preprocessed file from Inpaws (with its own cp command) to review it later and then compile it from InpawsPager (with the same cp command).

Sintax: inpawspager.exe command input_file <options>

Commands:
c : Compile an adventure, in Inpaws format, to TAP format. This command internally makes a call to inpaws.exe
cp : Compile a file that has been preprocessed by Inpaws to TAP format (this command does not call inpaws.exe)
e : Extract the database of an adventure in the Inpaws source code format, both 48kb and 128kb. The input file must be a snapshot in SNA format or a TAP file containing the database.
eg : Extract the default graphics and color attributes of adventure locations. Also in 128k versions.
ec : extract the definition of udgs, shades, and character sets that the adventure has
egfx : extract graphics and udgs, shades and character sets

Options:
-o output_file : allows to indicate the output file
-m structured | smart : smart mode is the default, and tries to optimize the database layout. Structured mode always generates a paged file, leaving RAM 0 page with only the strict DB, and passing messages and locations to higher RAM pages.
-v : Verbose. Prints technical information about what is being loaded.
-dbg : Debug. Prints the information regarding the created tables and pointers.


Examples:
InpawsPager c aventura.paw -o nombre.tap :
InpawsPager will call Inpaws to preprocess adventure.paw, and from the preprocessed file it will generate nombre.tap file in smart mode. If it fits in 48kb it will be a 48kb adventure, otherwise it will generate it for 128kb.

InpawsPager c aventura.paw -m structured -o nombre.tap :
InpawsPager will call Inpaws to preprocess aventura.paw, and from the preprocessed file it will generate nombre.tap file. The adventure will have a 128kb format, allowing it to be edited later to add new processes, or more data to the adventure.

Inpaws cp aventura.paw -o nombre.ppr :
This preprocesses the aventura.paw file, generating nombre.ppr. This last file is editable before being processed by InpawsPager.

InpawsPager cp nombre.ppr -o nombre.tap :
Compile the file preprocessed by Inpaws (nombre.ppr) generating the adventure in optimized mode in the nombre.tap file.


********************************
Development of an adventure
and memory layout
********************************

As the InpawsPager algorithms are configured, when developing an adventure it is better not to worry about space, since the algorithm itself distributes the database in the best possible and consistent way for Paws. The difficulty appears especially with graphics, since InpawsPager must include the graphics of a location in the same memory page where that location is placed.

To do this, if you want to make an adventure with graphics, the best option is to follow the following steps:
1 - Create an empty database, containing as many locations as our adventure has. We will use this database only to edit the graphics.
2 - Leave the location descriptions empty, and load the necessary Character Sets (udgs, shaders, and fonts).
3 - Create graphics and attributes from PAWS. If the graphicss are very extensive in space it is necessary to distribute the number of locations along the pages. For example, if we have 47 locations, we can distribute:
locations 0 to 8 on page 0
locations 9 to 17 on page 1
locations 18 to 26 on page 3
locations 27 to 35 on page 4
locations 36 to 44 on page 6
locations 45 to 46 on page 7

4 - On this database we will make the graphics of each location. And once we have it we will extract the graphics from it, using InpawsPager (so we can extract all the pages)
5 - We will put that "GRAPHICS" section in our Inpaws source file.

6 - We will compile the entire source file, and InpawsPager will adjust and organize the locations according to the algorithm chosen with the -m option

TIPS: It is recommended that location 0 doesn't have a graphic that is excessively large in memory, since this location must always go on page 0; and that page should be as free as possible for Processes, Vocabulary, System Messages, and Character Sets

Depending on the final space left on each ram page, it will be a gap that we will have when we edit the database from Paws to correct the graphics. However, the correction of the attributes (default colors of the location) does not modify the amount of available memory.
